<div class="container">
    <div class="row m-0 justify-content-center align-items" *ngIf="forecastData.length > 0">
        <div class="col-12 mb-4">
            <div class="card ">
                <div class="card-body ">
                    <div class="table-responsive" style="width: 100%;">
                        <table class="table table-bordered investment-table">
                            <thead>
                                <tr>
                                    <th rowspan="2">Number of Years</th>
                                    <th colspan="2">Dividend Income</th>
                                    <th rowspan="2">Reinvested Dividends</th>
                                    <th rowspan="2">Total Investment</th>
                                    <th rowspan="2">Portfolio Value</th>
                                </tr>
                                <tr>
                                    <th>Annually</th>
                                    <th>{{compoundFrequencyDescription}}</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let data of filteredData">
                                    <td>After {{data.year}} year</td>
                                    <td >{{ data.annualDividendIncome | currency }}</td>
                                    <td >{{ data.frequencyIncomeDividend | currency }}</td>
                                    <td>{{data.afterDRIP | currency}}</td>
                                    <td>{{data.yearEndInvested | currency}}</td>
                                    <td>{{data.yearEndNewBalance | currency}}</td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td colspan="3">Total value added to Portfolio</td>
                                    <td colspan="2">{{valueAddedToPortfolio | currency}}</td>
                                    <td colspan="3"></td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                    
                </div>
            </div>
        </div>
        <div class="col-12 mb-4 ">
            <div class="card ">
                <div class="card-body  d-flex flex-wrap justify-content-around">
                    <div class="form-check me-4">
                        <input class="form-check-input" type="checkbox" value=""
                            [(ngModel)]="showingColumns.annualDividenPerShare">
                        <label class="form-check-label">
                            Annual Dividend Per Share
                        </label>
                    </div>
                    <div class="form-check me-4">
                        <input class="form-check-input" type="checkbox" value=""
                            [(ngModel)]="showingColumns.compoundFrequency">
                        <label class="form-check-label">
                            Dividend Compound Frequency
                        </label>
                    </div>
                    <div class="form-check me-4">
                        <input class="form-check-input" type="checkbox" value=""
                            [(ngModel)]="showingColumns.frequencyIncomeDividend">
                        <label class="form-check-label">
                            Frequency Income Dividend
                        </label>
                    </div>
                    <div class="form-check me-4">
                        <input class="form-check-input" type="checkbox" value=""
                            [(ngModel)]="showingColumns.newSharesPerPeriod">
                        <label class="form-check-label">
                            New Shares per Period
                        </label>
                    </div>
                    <div class="form-check me-4">
                        <input class="form-check-input" type="checkbox" value=""
                            [(ngModel)]="showingColumns.monthlyContribution">
                        <label class="form-check-label">
                            Monthly Contribution
                        </label>
                    </div>
                    <div class="form-check me-4">
                        <input class="form-check-input" type="checkbox" value=""
                            [(ngModel)]="showingColumns.monthlyNewShares">
                        <label class="form-check-label">
                            Monthly New Shares
                        </label>
                    </div>
                    <div class="form-check me-4">
                        <input class="form-check-input" type="checkbox" value=""
                            [(ngModel)]="showingColumns.newSharesFromContributions">
                        <label class="form-check-label">
                            New Shares from Contributions
                        </label>
                    </div>
                    <div class="form-check me-4">
                        <input class="form-check-input" type="checkbox" value="" [(ngModel)]="showingColumns.afterDrip">
                        <label class="form-check-label">
                            After DRIP
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12">
            <div class="card  custom-shadow ">
                <div class="card-body ">
                    <div class="table-responsive" style="width: 100%; height: 70vh;">
                        <table class="table table-borderless table-hover table-sm">
                            <thead>
                                <tr>
                                    <th class="text-center head-first">Year</th>
                                    <th>Shares Owned</th>
                                    <th>Dividend Yield</th>
                                    <th *ngIf="showingColumns.annualDividenPerShare">Annual Dividend Per Share</th>
                                    <th>Annual Dividend Income</th>
                                    <th *ngIf="showingColumns.compoundFrequency" class="text-center">Compound Frequency
                                    </th>
                                    <th *ngIf="showingColumns.frequencyIncomeDividend">Frequency Income Dividend</th>
                                    <th *ngIf="showingColumns.newSharesPerPeriod">New Shares per Period</th>
                                    <th *ngIf="showingColumns.monthlyContribution">Monthly Contribution</th>
                                    <th *ngIf="showingColumns.monthlyNewShares">Monthly New Shares</th>
                                    <th *ngIf="showingColumns.newSharesFromContributions">New Shares from Contributions
                                    </th>
                                    <th *ngIf="showingColumns.afterDrip">After DRIP</th>
                                    <th>Year-End Shares Owned</th>
                                    <th>Year-End Stock Price</th>
                                    <th>Year-End New Balance</th>
                                    <th>Year-End Invested</th>
                                    <th class="head-last">Year-End Return</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr [ngClass]="{'division-row': data.year % 5 === 0}" *ngFor="let data of forecastData">
                                    <td class="text-center">{{ data.year }}</td>
                                    <td>{{ data.sharesOwned | number:'1.5-5' }}</td>
                                    <td>{{ data.dividendYield | percent:'1.3-3' }}</td>
                                    <td *ngIf="showingColumns.annualDividenPerShare">{{ data.annualDividendPerShare |
                                        currency }}</td>
                                    <td>{{ data.annualDividendIncome | currency }}</td>
                                    <td *ngIf="showingColumns.compoundFrequency" class="text-center">{{
                                        data.compoundFrequencyDescription || 'NULL' }}</td>
                                    <td *ngIf="showingColumns.frequencyIncomeDividend">{{ data.frequencyIncomeDividend |
                                        currency }}</td>
                                    <td *ngIf="showingColumns.newSharesPerPeriod">{{ data.newSharesPerPeriod |
                                        number:'1.5-5' }}</td>
                                    <td *ngIf="showingColumns.monthlyContribution">{{ data.monthlyContribution |
                                        currency }}</td>
                                    <td *ngIf="showingColumns.monthlyNewShares">{{ data.monthlyNewShares |
                                        number:'1.5-5' }}</td>
                                    <td *ngIf="showingColumns.newSharesFromContributions">{{
                                        data.newSharesFromContributions | number:'1.5-5' }}</td>
                                    <td *ngIf="showingColumns.afterDrip">{{ data.afterDRIP | currency }}</td>
                                    <td>{{ data.yearEndSharesOwned | number:'1.5-5' }}</td>
                                    <td>{{ data.yearEndStockPrice | currency }}</td>
                                    <td>{{ data.yearEndNewBalance | currency }}</td>
                                    <td>{{ data.yearEndInvested | currency }}</td>
                                    <td>{{ data.yearEndReturn | currency }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>